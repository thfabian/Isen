branches:
  only:
    - master
    
platform: 
    - x64

environment:
  matrix:
    - GENERATOR: "Visual Studio 14 Win64"
      CONFIG: Release
    - GENERATOR: "Visual Studio 14 Win64"
      CONFIG: Debug

init:
    - cmd: cmake --version

build_script:
    # Setup Eigen3
    # ------------
    - ps: git clone -q --branch=master https://github.com/RLovelett/eigen.git C:\projects\isen\ext\eigen3
    
    # Setup Python (Numpy)
    # -------------------
    - cmd: C:\Python27\Scripts\pip.exe install numpy
    
    # Setup Boost
    # -----------
    - cmd: set "BOOST_ROOT=C:\Libraries\boost_1_60_0"
    - cmd: set "BOOST_LIBRARYDIR=C:\Libraries\boost_1_60_0\lib64-msvc-14.0"
    
    # Build
    - cmd: cmake "-G%GENERATOR%" -H. -Bbuild -DISEN_PYTHON=ON -DBoost_USE_STATIC_LIBS="ON"
    - cmd: cmake --build build --config "%CONFIG%"

test_script:
  - ps: cd build
  # - ctest -VV -C "%CONFIG%"